{"version":3,"sources":["Modules/Movies/movies-api.js","Modules/Genres/genres-helper.js","Modules/Home/home-carousel.js","Modules/Movies/movies-suggestion.js","Modules/Movies/movies-section.js","Modules/Home/index.js","Modules/Movies/movies-thumbnail.js"],"names":["fetchDetailMovie","movieId","a","uri","httpGet","response","status","json","loaded","getGenreName","genres","input","result","length","filter","genre","id","i","map","item","push","ChildrenCarousel","props","history","useHistory","handleClick","useCallback","resp","setDetailMovie","pathname","location","search","state","className","title","overview","substring","onClick","backdrop_path","src","CarouselComponent","autoPlay","timer","animation","indicators","autoBind","this","banner","movie_loaded","index","key","loading","React","Component","connect","Movies","MovieComponent","lazy","Genres","suggestion","genreMovie","movie","genre_ids","genre_movie","toString","PanelSection","setMovieSuggestionGenre","menu","children","ChildSectionMovie","Children","child","data","movieLoaded","useEffect","MovieThumbnail","vote","backdrop","MovieLoadingThumbnail","node","memo","prevProps","nextProps"],"mappings":"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","file":"static/js/6.ea6ca48f.chunk.js","sourcesContent":["import { httpGet } from \"../../Helper/HttpFetch\";\r\n\r\n// Try to fetching detail movie before\r\n// push to route movie\r\nexport async function fetchDetailMovie(movieId) {\r\n  const uri = `/3/movie/${movieId}?append_to_response=video,images,credits,jobs`;\r\n  const response = await httpGet(uri);\r\n  if (response.status === 200) {\r\n    const json = await response.json();\r\n    json.loaded = true;\r\n    return json;\r\n  }\r\n  return false;\r\n}\r\n","/**\r\n * Produce as an array related with\r\n * state movies from reducers Genres and\r\n * input from array genre_ids of movie objects\r\n * @param {Array} genres\r\n * @param {Array} input\r\n */\r\nexport const getGenreName = (genres, input) => {\r\n  const result = [];\r\n\r\n  if (input.length === 0) return false;\r\n  if (input.length === 1) return genres.filter(genre => genre.id === input[0]);\r\n  for (let i = 0; i < input.length; i++) {\r\n    genres.map(item => {\r\n      if (item.id === input[i]) {\r\n        result.push(item);\r\n      }\r\n    });\r\n  }\r\n  return result;\r\n};\r\n","import React, { useCallback } from \"react\";\r\nimport Carousel from \"react-material-ui-carousel\";\r\nimport autoBind from \"auto-bind\";\r\nimport \"./home-carousel.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { location } from \"../../Env\";\r\nimport { fetchDetailMovie } from \"../Movies/movies-api\";\r\nimport { setDetailMovie } from \"../Movies/movies-action\";\r\nfunction ChildrenCarousel(props) {\r\n  let history = useHistory();\r\n  const handleClick = useCallback(async () => {\r\n    const resp = await fetchDetailMovie(props.item.id);\r\n    if (resp !== false) {\r\n      props.setDetailMovie(resp);\r\n      history.push({\r\n        pathname: `${location}/movie/detail`,\r\n        search: `?id=${props.item.id}`,\r\n        state: { movieId: props.item.id }\r\n      });\r\n    }\r\n  });\r\n  return (\r\n    <div className=\"carousel-banner\">\r\n      <div className=\"carousel-content\">\r\n        <h1 className=\"carousel-title\">{props.item.title}</h1>\r\n        <p className=\"carousel-caption\">\r\n          {props.item && props.item.overview\r\n            ? props.item.overview.substring(0, 250)\r\n            : \"\"}{\" \"}\r\n          ...\r\n        </p>\r\n        <button className=\"carousel-button\" onClick={handleClick}>\r\n          Watch Now\r\n        </button>\r\n      </div>\r\n      {props.item.backdrop_path && (\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/original/${props.item.backdrop_path}`}\r\n          className=\"carousel-image\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/***\r\n * Render carousel component only have backdrop_path\r\n *\r\n */\r\nclass CarouselComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      autoPlay: true,\r\n      timer: 1000,\r\n      animation: \"slide\",\r\n      indicators: false\r\n    };\r\n\r\n    autoBind(this);\r\n  }\r\n\r\n  loading() {\r\n    return <div className=\"carousel-loading\"></div>;\r\n  }\r\n\r\n  render() {\r\n    const { banner, movie_loaded, setDetailMovie } = this.props;\r\n    if (!movie_loaded) return this.loading();\r\n    return (\r\n      <Carousel\r\n        className=\"carousel\"\r\n        autoPlay={this.state.autoPlay}\r\n        timer={this.state.timer}\r\n        animation={this.state.animation}\r\n        indicators={this.state.indicators}\r\n      >\r\n        {banner.map((item, index) => {\r\n          return (\r\n            item.backdrop_path && (\r\n              <ChildrenCarousel\r\n                item={item}\r\n                key={index}\r\n                setDetailMovie={setDetailMovie}\r\n              />\r\n            )\r\n          );\r\n        })}\r\n      </Carousel>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapToProps = ({ Movies }) => {\r\n  const { banner, movie_loaded } = Movies;\r\n  return { banner, movie_loaded };\r\n};\r\n\r\nexport default connect(mapToProps, { setDetailMovie })(CarouselComponent);\r\n","import React, { lazy } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { MovieLoadingThumbnail } from \"./movies-thumbnail\";\r\nimport { getGenreName } from \"../Genres/genres-helper\";\r\nimport \"./movies-thumbnail.scss\";\r\n\r\nconst MovieComponent = lazy(() => import(\"./movies-component\"));\r\n\r\n// Produce Movie Suggestion Integrated with\r\n// reducers state Movies and Genres\r\n// genre_ids on movie object will render based\r\n// click event ThumbnailMovie Component\r\nfunction ConnectedMovieSuggestion({ movie_loaded, suggestion, genreMovie }) {\r\n  if (!movie_loaded) {\r\n    return <MovieLoadingThumbnail />;\r\n  }\r\n  return suggestion.map((item, index) => {\r\n    const genre = getGenreName(genreMovie, item.genre_ids);\r\n    item.genre_movie = genre;\r\n    return (\r\n      index < 10 &&\r\n      item.backdrop_path && <MovieComponent {...item} key={index.toString()} />\r\n    );\r\n  });\r\n}\r\n\r\nConnectedMovieSuggestion.propTypes = {\r\n  movie_loaded: PropTypes.bool.isRequired,\r\n  suggestion: PropTypes.array.isRequired,\r\n  genreMovie: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapToProp = ({ Movies, Genres }) => {\r\n  const { suggestion, movie_loaded } = Movies;\r\n  const { movie } = Genres;\r\n  const genreMovie = movie;\r\n  return { suggestion, movie_loaded, genreMovie };\r\n};\r\n\r\nexport default connect(mapToProp)(ConnectedMovieSuggestion);\r\n","import React, { lazy } from \"react\";\r\nimport \"../Component/container.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { setMovieSuggestionGenre } from \"./movies-action\";\r\nimport \"./movies-section.scss\";\r\nconst PanelSection = lazy(() => import(\"../Component/panel-section\"));\r\n\r\n/**\r\n * Produce element child component with title\r\n * and panel menu based on genre movies\r\n * @param {String} title\r\n * @param {Node} children\r\n */\r\nfunction Section(props) {\r\n  const { title, menu, children, setMovieSuggestionGenre } = props;\r\n  const ChildSectionMovie = React.Children.map(children, child => {\r\n    return <div className=\"section-movie\">{child}</div>;\r\n  });\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PanelSection\r\n        title={title}\r\n        menu={menu}\r\n        onClick={data => setMovieSuggestionGenre(data)}\r\n      />\r\n      {ChildSectionMovie}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapToProps = ({}) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapToProps, { setMovieSuggestionGenre })(Section);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { movieLoaded } from \"../Movies/movies-action\";\r\nimport CarouselComponent from \"./home-carousel\";\r\nimport MovieSuggestion from \"../Movies/movies-suggestion\";\r\nimport MovieSection from \"../Movies/movies-section\";\r\nimport \"../../CoreScss/global.scss\";\r\n\r\n// Load movie to banner, suggestion, latest\r\n// with condition if loaded false\r\nfunction Home({ genre, movieLoaded }) {\r\n  useEffect(() => {\r\n    movieLoaded();\r\n  });\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <CarouselComponent />\r\n      <MovieSection title={\"Suggestion Movie\"} menu={genre}>\r\n        <MovieSuggestion />\r\n      </MovieSection>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ Genres, Movies }) => {\r\n  const { movie } = Genres;\r\n  return { genre: movie };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  movieLoaded\r\n})(Home);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./movies-thumbnail.scss\";\r\n\r\n// Check props use to memo\r\nconst propsMovieThumbnail = (prevProps, nextProps) => {\r\n  return prevProps.title === nextProps.title;\r\n};\r\n\r\n// Render the movie thumbnails component\r\n// Avoid to render bigger images, we use w500 as image size\r\n// thumbnail movies backdrop\r\nexport function MovieThumbnail({ onClick, vote, title, backdrop }) {\r\n  return (\r\n    <div className=\"movie-thumbnail\" onClick={onClick}>\r\n      <span className=\"movie-thumbnail-vote\">{vote}</span>\r\n      <div className=\"shadow\">\r\n        <span className=\"movie-thumbnail-title\">{title}</span>\r\n      </div>\r\n      <img\r\n        className=\"movie-thumnail-backdrop\"\r\n        src={`https://image.tmdb.org/t/p/w500/${backdrop}`}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Component Loading Movie Thumbnail\r\nexport const MovieLoadingThumbnail = () => {\r\n  const node = [];\r\n  for (let i = 0; i < 10; i++) {\r\n    node.push(\r\n      <div className=\"movie-thumbnail-loading\" key={i.toString()}></div>\r\n    );\r\n  }\r\n  return node;\r\n};\r\n\r\nMovieThumbnail.propTypes = {\r\n  onClick: PropTypes.func,\r\n  vote: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  backdrop: PropTypes.string\r\n};\r\n\r\nexport default React.memo(MovieThumbnail, propsMovieThumbnail);\r\n"],"sourceRoot":""}